<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css
">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.jqueryui.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/scroller/2.0.3/css/scroller.jqueryui.min.css">
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.22/js/dataTables.jqueryui.min.js
"></script>
<script src="https://cdn.datatables.net/scroller/2.0.3/js/dataTables.scroller.min.js"></script>

<style type="text/css">
  .flex-container{
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    padding: 20px;
    width: 100%;
  }
  .item{
    margin: 0;
    display: inherit;
    padding: 10px;
    width: 100%;
    height: 100px;
    align-items: center;
    flex-wrap: wrap;
    font-size: 20px;
  }
  .right{
    float: right;
  }

</style>
<h3> Top 5 Used Languages by Organisation</h3>
<div class="flex-container">
  <% @top_languages.each do |lang| %> 
  <div class="item"><li> <%= lang[0] %></li></div>
  <% end %>
</div>

<h3> Least 5 Used Languages by Organisation </h3>
<div class="flex-container">
  <% @least_languages.each do |lang| %> 
  <div class="item"><li> <%= lang[0] %></li></div>
  <% end %>
</div>

<%= link_to "export", export_repositories_path(format: "csv"), class: "btn btn-primary right" %><br><br>

<table id="repo_table" class="display nowrap" style="width:100%">
  <thead>
    <tr>
      <th>name</th>
      <th>Language</th>
      <th>Created at</th>
    </tr>
  </thead>
  <tbody>
    <% @repo.each do |repo| %> 
    <tr>
      <td><%= repo[:name] %> </td>
      <td><%= repo[:language] %> </td>
      <td><%= repo[:created_at] %> </td>
    </tr>
    <% end %>
  </tbody>
</table>

<script type="text/javascript">
  $(document).ready(function(){
    $('#repo_table').DataTable();
  });
</script>